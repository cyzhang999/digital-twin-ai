# 数字孪生系统知识库说明文档

## 文件说明

本目录包含数字孪生系统的知识库文件，主要用于上传到 Dify 平台作为 RAG (检索增强生成) 的知识来源。

主要文件：
- `office_operation_manual.md`: 办公区域模型操作指南，包含详细的区域信息和操作命令

## 上传到 Dify 平台步骤

### 1. 准备知识库文件

确保知识库文件满足以下要求：
- 使用 UTF-8 编码
- 文件大小不超过 10MB
- 文本内容结构清晰，便于分段处理

### 2. Dify 平台登录

1. 使用管理员账号登录 Dify 平台
2. 进入管理控制台

### 3. 创建或选择数据集

1. 在左侧菜单中选择"知识库管理"
2. 点击"创建知识库"按钮
3. 填写知识库信息：
   - 名称：建议使用"数字孪生办公区域操作知识库"
   - 描述：简要说明知识库内容和用途

### 4. 上传文档

1. 在知识库页面，点击"上传文档"按钮
2. 选择上传方式："上传文件"
3. 浏览并选择 `office_operation_manual.md` 文件
4. 设置文档处理参数：
   - 分段方法：选择"按标记分段"
   - 分段大小：建议设置为 1000 字符
   - 重叠大小：建议设置为 200 字符
   - 语言：中文

### 5. 处理选项

1. 启用"文本处理"
2. 启用"索引构建"
3. 点击"开始处理"按钮
4. 等待处理完成，状态显示为"已完成"

### 6. 验证知识库

1. 在知识库详情页面，使用"搜索"功能测试
2. 尝试搜索关键词：如"Area_1"、"会议室"、"聚焦操作"等
3. 确认搜索结果与预期一致

### 7. 关联应用

1. 在左侧菜单中选择"应用管理"
2. 进入相应的聊天应用
3. 在应用设置中，找到"知识库"选项
4. 关联已创建的知识库
5. 设置检索参数：
   - 检索条数：建议设置为 5
   - 相似度阈值：建议设置为 0.7
   - 启用重排序：建议启用

## 有效提示示例

### 基础操作提示

使用以下提示与数字孪生助手进行交互：

1. **查看区域信息**：
   - "介绍一下主工作区A的布局"
   - "会议室有哪些设施？"
   - "前台区域在哪里？"

2. **执行基本操作**：
   - "我想聚焦到Area_3会议室"
   - "将视图放大1.5倍"
   - "向左旋转模型45度"
   - "重置视图到默认状态"

3. **组合操作**：
   - "聚焦到开放办公区并向右旋转30度"
   - "放大会议室区域后查看投影设备"
   - "将Area_1放大2倍然后向上旋转15度"

### 进阶提示

1. **解决问题**：
   - "我找不到专用办公室在哪里，请帮助我定位"
   - "如何获得最佳视角查看前台区域？"
   - "旋转后方向感丢失，如何恢复？"

2. **特定场景**：
   - "我需要检查所有会议室的投影设备"
   - "将视角移动到能同时看到Area_4和Area_5的位置"
   - "如何最有效地查看整个办公区布局？"

## 知识库维护建议

1. **定期更新**：
   - 当模型发生变化时更新知识库内容
   - 添加新区域或设施时更新相关描述

2. **优化提示**：
   - 收集用户常见问题，更新知识库以涵盖这些问题
   - 完善操作示例，使其更符合实际使用场景

3. **性能监控**：
   - 定期测试知识库检索效果
   - 调整分段参数以提高检索准确性 